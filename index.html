<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body {
            margin: 0;
            padding: 10px;
            font-family: Arial, sans-serif;
        }

        h1 {
            font-size: 1.5em;
        }

        button {
            font-size: 1em;
            cursor: pointer;
        }

        .card-container, .card-container-swap {
            --position: absolute;
            width: 100%;
            margin: 0 auto;
            align-items: center;
        }

        .card, .card-swap {
            background: #f0f0f0;
            padding: 10px;
            margin: 5px 0;
            border-radius: 5px;
            font-size: 1em;
            word-wrap: break-word;
        }

        /* Media query for mobile devices */
        @media screen and (max-width: 768px) {
            h1 {
                font-size: 1.2em;
            }

            button {
                width: 100%;
                max-width: 200px;
            }

            .card, .card-swap {
                font-size: 0.9em;
                padding: 8px;
            }
        }
        #popup{
            opacity: 1;
            animation-name: fadeInOpacity;
            animation-iteration-count: 1;
            animation-timing-function:ease-in-out;
            animation-duration: 3s;

        }


@keyframes fadeInOpacity {
	0% {
		opacity: 0;
	}
    10%{
        opacity: 0;
    }
	100% {
		opacity: 1;
	}
}
    </style>
</head>
<body>
    <button id="swap">finnish->portuguese</button>
    <button id="login">login!</button>
    <div id="login-container" style="visibility: hidden; position:absolute;">
    <h1>Login</h1>
    
    <form id="loginForm">
        <label for="username">Username:</label>
        <input type="text" id="username" name="username" required>
        <br>
        <label for="password">Password:</label>
        <input type="password" id="password" name="password" required>
        <br>
        <button type="submit">Login</button>
    </form>
</div>
    <p id='logged-in'>logged as:</p>
    <div id="popup"></div>
    <h1>üá´üáÆ üáßüá∑</h1>
    <script>
                let logged_in = document.querySelector('#logged-in')
                if(localStorage.getItem('token')){
                    logged_in.innerText+="saios"
                }else{
                    document.getElementById('login-container').style.visibility='visible'
                    document.getElementById('login-container').style.position='relative'

                }
        document.getElementById('loginForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            const response = await fetch('/login', {
                method: 'POST',
                headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
                body: `username=${encodeURIComponent(username)}&password=${encodeURIComponent(password)}`,
            });
            const data = await response.json();
            if (data.token) {
                localStorage.setItem('token', data.token); // Save token
                alert('Login successful!');
                let logged_in = document.querySelector('#logged-in')
                if(localStorage.getItem('token')){
                    logged_in.innerText+="saios"
                    document.querySelector("#login-container").style.visibility='hidden'
                    document.getElementById('login-container').style.position='absolute'
                    console.log(e.target)
                }
            } else {
                alert('Login failed');
            }
        });
    </script>
    <script>
        const lb = document.querySelector('#login')
        const pop = document.querySelector('#popup')

        lb.addEventListener('click',()=>{console.log('presed');pop.appendChild((()=>{let p = document.createElement('p');p.innerText='‚≠ê‚≠ê‚≠ê'; return p})())})
    </script>
    <script>
        const basicWords1 = "eu, min√§ | tu, sin√§ | ele, h√§n | ela, h√§n | isto, se | n√≥s, me | v√≥s, te | eles, he | O qu√™, mik√§ | Quem, kuka | Onde, miss√§ | Porqu√™, miksi | Como, miten | Qual, mik√§ | Quando, milloin | ent√£o, sitten | se, jos | mesmo, todella | mas, mutta | porque, koska | n√£o, ei | isto, t√§m√§ | aquilo, tuo | tudo, kaikki | ou, tai | e, ja | aqui, t√§√§ll√§ | ali, tuolla | esquerda, vasen | direita, oikea | agora, nyt | tarde, iltap√§iv√§ | manh√£, aamu | noite, y√∂ | manh√£, aamu | tardinha, ilta | meio-dia, keskip√§iv√§ | meia-noite, keskiy√∂ | hora, tunti | minuto, minuutti | segundo, sekunti | dia, p√§iv√§ | semana, viikko | m√™s, kuukausi | ano, vuosi | ontem, eilen | hoje, t√§n√§√§n | amanh√£, huomenna | segunda-feira, maanantai | ter√ßa-feira, tiistai | quarta-feira, keskiviikko | quinta-feira, torstai | sexta-feira, perjantai | s√°bado, lauantai | domingo, sunnuntai | mulher, nainen | homem, mies | amor, rakkaus | namorado, poikayst√§v√§ | namorada, tytt√∂yst√§v√§ | amigo, yst√§v√§ | beijo, suudelma | sexo, seksi | crian√ßa, lapsi | rapariga, tytt√∂ | rapaz, poika | mam√£, √§iti | pap√°, is√§ | m√£e, √§iti | pai, is√§ | pais, vanhemmat | filho, poika | filha, tyt√§r | irm√£ mais nova, pikkusisko | irm√£o mais novo, pikkuveli | irm√£ mais velha, isosisko | irm√£o mais velho, isoveli | marido, aviomies | esposa, vaimo | todas, jokainen | sempre, aina | na verdade, itse asiassa | outra vez, taas | j√°, jo | menos, v√§hemm√§n | m√°ximo, useimmat | mais, enemm√§n | nada, ei yht√§√§n | muito, eritt√§in | fora, ulkona | dentro, sis√§ll√§ | longe, kaukana | perto, l√§hell√§ | abaixo, alla | acima, yll√§ | ao lado, vieress√§ | frente, edess√§ | atr√°s, takana | toda a gente, kaikki | juntos, yhdess√§ | outro, toinen | primavera, kev√§t | ver√£o, kes√§ | outono, syksy | inverno, talvi | janeiro, tammikuu | fevereiro, helmikuu | mar√ßo, maaliskuu | abril, huhtikuu | maio, toukokuu | junho, kes√§kuu | julho, hein√§kuu | agosto, elokuu | setembro, syyskuu | outubro, lokakuu | novembro, marraskuu | dezembro, joulukuu | norte, pohjoinen | este, it√§ | sul, etel√§ | oeste, l√§nsi | frequentemente, usein | imediatamente, heti | subitamente, yht√§kki√§ | no entanto, vaikka";
        const ownershipPronouns = "meu, minun | tua, sinun | seu, h√§nen | nosso, meid√§n | vosso, teid√§n | seu, heid√§n";
        const ollaVerbi = "eu sou, min√§ olen | tu √©s, sin√§ olet | ele/ela √©, h√§n on | n√≥s somos, me olemme | v√≥s sois, te olette | eles/elas s√£o, he ovat";
        
        let d = document.createElement('div');
        let dd = document.createElement('div');
        dd.classList.add('card-cols');
        dd.style.display='flex'
        dd.style.flexDirection = 'row'; // Use 'row' instead of 'row-reverse' for proper column alignment
        dd.style.flexWrap = 'wrap'; // Allow wrapping to create multiple rows if needed
        dd.style.gap = '10px'; // Add spacing between columns
        dd.style.flexGrow = 1;
        

        d.classList.add('card-container');

        let d3 = document.createElement('div');
        d3.classList.add('pronouns');

        let d4 = document.createElement('div');
        d4.classList.add('ollaverbi');

        dd.appendChild(d);
        dd.appendChild(d3);
        dd.appendChild(d4);

        document.body.appendChild(dd)
        Array.from(dd.children).forEach(child => {
    child.style.flex = '1 1 33.33%'; // Each child takes 1/3 of the parent's width
    child.style.minWidth = 'calc(33.33% - 10px)'; // Ensure it doesn't shrink below 1/3 (accounting for gap)
});

        for(let l = ownershipPronouns.split('|').length; l > 0; l--){
            let p = document.createElement('p');
            p.classList.add('card-ownership-pronouns');
            d3.appendChild(p);
        }
        document.querySelectorAll('.card-ownership-pronouns').forEach((c,idx) => c.innerText = ownershipPronouns.split('|')[idx].split(',').join(' '));

        for(let l = ollaVerbi.split('|').length; l > 0; l--){
            let p = document.createElement('p');
            p.classList.add('card-olla-verbi');
            d4.appendChild(p);
        }

        for(let l = basicWords1.split('|').length; l > 0; l--){
            let p = document.createElement('p');
            p.classList.add('card');
            d.appendChild(p);
        }
        document.querySelectorAll('.card').forEach((c,idx) => c.innerText = basicWords1.split('|')[idx].split(',').join(' '));
        document.querySelectorAll('.card-ownership-pronouns').forEach((c,idx) => c.innerText = ownershipPronouns.split('|')[idx].split(',').join(' '));
        document.querySelectorAll('.card-olla-verbi').forEach((c,idx) => c.innerText = ollaVerbi.split('|')[idx].split(',').join(' '));

        let d2 = document.createElement('div');
        d2.classList.add('card-container-swap');
        d2.style.visibility = 'hidden';
        dd.appendChild(d2);

        for(let l = basicWords1.split('|').length; l > 0; l--){
            let p = document.createElement('p');
            p.classList.add('card-swap');
            d2.appendChild(p);
        }
        document.querySelectorAll('.card-swap').forEach((c,idx) => c.innerText = basicWords1.split('|')[idx].split(',').reverse().join(' '));

        document.querySelector("#swap").addEventListener('click', (e) => {
            e.target.innerText = e.target.innerText.split('->')[1] + '->' + e.target.innerText.split('->')[0];
            if(document.querySelector(".card-container").style.visibility === 'hidden'){
                document.querySelector(".card-container-swap").style.visibility = 'hidden';
                document.querySelector(".card-container").style.visibility = 'visible';
            } else {
                document.querySelector(".card-container").style.visibility = 'hidden';
                document.querySelector(".card-container-swap").style.visibility = 'visible';
            }
        });
    </script>
</body>
</html>